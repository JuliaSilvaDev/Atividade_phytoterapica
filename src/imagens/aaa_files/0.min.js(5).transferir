(window.webpackJsonpvtex_product_gifts_0_4_0=window.webpackJsonpvtex_product_gifts_0_4_0||[]).push([[0],{11:function(e,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductGifts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NamedType",name:{kind:"Name",value:"ProductUniqueIdentifier"}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"context"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sender"},value:{kind:"StringValue",value:"vtex.product-gifts@0.4.0",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"context"},arguments:[{kind:"Argument",name:{kind:"Name",value:"provider"},value:{kind:"StringValue",value:"vtex.search-graphql",block:!1}}]},{kind:"Directive",name:{kind:"Name",value:"runtimeMeta"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hash"},value:{kind:"StringValue",value:"989ebad04ec4e66e0c7856d0c25b742ccfac0d84ee45e9884d32570ac7eb08e6",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sellers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commertialOffer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skuName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:759}};n.loc.source={body:'query ProductGifts($slug: String, $identifier: ProductUniqueIdentifier) @context(sender: "vtex.product-gifts@0.4.0") {\n  product(slug: $slug, identifier: $identifier) @context(provider: "vtex.search-graphql") @runtimeMeta(hash: "989ebad04ec4e66e0c7856d0c25b742ccfac0d84ee45e9884d32570ac7eb08e6") {\n    items {\n      itemId\n      sellers {\n        commertialOffer {\n          gifts {\n            productName\n            brand\n            linkText\n            description\n            skuName\n            images {\n              imageUrl\n              imageLabel\n              imageText\n              __typename\n            }\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function a(e,i){for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n];if(t.name&&t.name.value==i)return t}}n.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,n){if("FragmentSpread"===i.kind)n.add(i.name.value);else if("VariableDefinition"===i.kind){var t=i.type;"NamedType"===t.kind&&n.add(t.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,n)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,n)})),i.definitions&&i.definitions.forEach((function(i){e(i,n)}))}(e,i),t[e.name.value]=i}})),e.exports=n,e.exports.ProductGifts=function(e,i){var n={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var d=t[i]||new Set,r=new Set,l=new Set;for(d.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){l.add(e)})))}))}return r.forEach((function(i){var t=a(e,i);t&&n.definitions.push(t)})),n}(n,"ProductGifts")},4:function(e,i,n){"use strict";n.r(i),n.d(i,"useProductGiftsState",(function(){return N}));var t=n(0),a=n.n(t),d=n(3),r=n(6),l=n(7),s=n.n(l),o=n(1),u=n.n(o),m=n(8),c=n.n(m),v=n(11),k=n.n(v),f=Object(t.createContext)({gifts:[],maxVisibleItems:0}),g=["productGiftsContainer"],p=function(e){var i,n,d,l,o=e.children,m=e.maxVisibleItems,v=void 0===m?"showAll":m,p=c()(),b=Object(r.useQuery)(k.a,{variables:{identifier:{field:"id",value:null===(i=null==p?void 0:p.product)||void 0===i?void 0:i.productId}},skip:null==(null===(n=null==p?void 0:p.product)||void 0===n?void 0:n.productId)}),N=b.data,S=b.loading,_=b.error,x=null===(d=null==p?void 0:p.selectedItem)||void 0===d?void 0:d.itemId,h=u()(g),y=s()(v),F=null==N?void 0:N.product.items.find((function(e){return e.itemId===x})),V=(null!==(l=null==F?void 0:F.sellers)&&void 0!==l?l:[]).reduce((function(e,i){var n;return e.concat(null!==(n=i.commertialOffer.gifts)&&void 0!==n?n:[])}),[]),I=Object(t.useMemo)((function(){return{gifts:V,maxVisibleItems:y}}),[V,y]);return p||console.error("Could not find a ProductContext value. Make sure this component is being used inside a ProductContextProvider."),_&&console.error(_),S||0===I.gifts.length?null:a.a.createElement(f.Provider,{value:I},a.a.createElement("div",{className:h.productGiftsContainer},o))},b=Object(d.defineMessages)({title:{id:"admin/editor.product-gifts.title"},description:{id:"admin/editor.product-gifts.description"},maxVisibleItems:{id:"admin/editor.product-gifts.maxVisibleItems.title"},maxVisibleItemsDescription:{id:"admin/editor.product-gifts.maxVisibleItems.description"}});function N(){var e=Object(t.useContext)(f);if(void 0===e)throw new Error("useProductGiftsState must be used within a ProductGiftsContextProvider");return e}p.schema={title:b.title.id,description:b.description.id,type:"object",properties:{maxVisibleItems:{default:"showAll",title:b.maxVisibleItems.id,description:b.maxVisibleItemsDescription.id,type:"string"}}},i.default=p}}]);