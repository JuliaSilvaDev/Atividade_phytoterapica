(window.webpackJsonpvtex_product_customizer_2_12_1=window.webpackJsonpvtex_product_customizer_2_12_1||[]).push([["ProductAssemblyOptionItemCustomize"],{0:function(e,t){e.exports=React},1:function(e,t){e.exports=R},10:function(e,t){e.exports=ReactIntl},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n.n(a),r=n(3);function c(e){return function(t){return Object(r.b)()?o.a.createElement(e,t):null}}},17:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-components@3.x/ProductPrice"]},19:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Button"]},24:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.native-types@0.x/IOMessage"]},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(23),o=n(1),r=n(0),c=n.n(r),i=n(5),u=n.n(i),s=n(3),l=n(12),m=["productAssemblyOptionItemImage"],d=function(e,t){if(!e)return"";var n=e.split("/"),r=n.findIndex((function(e){return"ids"===e}));if(r<0||r===n.length-1)return e;var c=r+1,i=n[c],u=Object(o.head)(i.split("-")),s=(null===window||void 0===window?void 0:window.devicePixelRatio)||1,l="".concat(u,"-").concat(t*s,"-auto");return[].concat(Object(a.a)(n.slice(0,c)),[l],Object(a.a)(n.slice(c+1))).join("/")};t.a=Object(l.a)((function(){var e=u()(m),t=Object(s.b)(),n=t.image,a=t.name;return c.a.createElement("img",{alt:a,className:"".concat(e.productAssemblyOptionItemImage),src:d(n,54),width:54,height:54})}))},26:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.product-context@0.x/ProductDispatchContext"]},29:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(10),c=n(5),i=n.n(c),u=n(24),s=n.n(u),l=n(19),m=n.n(l),d=n(20),p=n(1),v=n(26);function b(e){var t=Object(v.useProductDispatch)();Object(a.useEffect)((function(){var n=e.items,a=e.id,o=e.type,r=e.valuesOfInputValues,c=e.optin,i=c?Object.values(null!=n?n:{}).map(f(o)):[],u=!c||function e(t){var n,a=Object.values(null!==(n=t.items)&&void 0!==n?n:{}),o=a.reduce((function(e,t){return e+t.quantity}),0);if(!(void 0!==t.maxQuantity&&t.maxQuantity>=o&&t.minQuantity<=o||void 0===t.maxQuantity))return!1;return a.every((function(t){return!t.children||Object.values(t.children).every((function(t){return e(t)}))}))}(e);t({type:"SET_ASSEMBLY_OPTIONS",args:{groupId:a,groupItems:i,groupInputValues:c?r:{},isValid:u}})}),[e,t])}function f(e){return function(t){return Object.assign(Object.assign({},Object(p.pick)(["name","id","initialQuantity","quantity","seller"],t)),{price:t.price/100,choiceType:e,children:t.children?O(t.children):null})}}function O(e){for(var t,n={},a=0,o=Object.keys(e);a<o.length;a++){var r=o[a],c=e[r];n[r]=Object.values(null!==(t=c.items)&&void 0!==t?t:{}).map(f(c.type))}return n}var E=n(6),g=n(3),y=n(8),_=["itemContainer"],N=function(e){var t,n,a,r,c,u,s,l=e.children,m=i()(_),d=(t=Object(g.b)(),n=t.id,a=t.quantity,r=Object(E.c)(),c=r.type,u=r.path,s=Object(E.b)(),0===a&&c===y.a.SINGLE?function(){return s({type:"SET_QUANTITY",args:{itemId:n,newQuantity:1,type:y.a.SINGLE,groupPath:u}})}:c===y.a.TOGGLE?function(){return s({type:"SET_QUANTITY",args:{itemId:n,newQuantity:1===a?0:1,type:y.a.TOGGLE,groupPath:u}})}:void 0);return o.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){null==d||d()},onKeyDown:function(e){var t=e.key;" "!==t&&"Enter"!==t||null==d||d()},className:"".concat(m.itemContainer," hover-bg-muted-5 bb b--muted-5 pa3 pointer")},l)},x=["productAssemblyGroupName","productAssemblyGroupNameRow","productAssemblyGroupRequiredTag"];t.a=function(e){var t=e.children,n=Object(r.useIntl)(),c=i()(x),u=Object(E.c)(),l=Object(E.b)();b(u);var p=function(){l({type:"OPTIN",args:{groupPath:u.path}})},v=Object(d.e)(u.groupName)?Object(d.c)(u.groupName,n):u.groupName;return o.a.createElement(a.Fragment,null,!1===u.optin?o.a.createElement(m.a,{variation:"secondary",onClick:p},o.a.createElement(s.a,{id:"store/product-customizer.add-assembly",values:{name:v}})):o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"".concat(c.productAssemblyGroupNameRow," flex justify-between items-center")},o.a.createElement("div",{className:"".concat(c.productAssemblyGroupName," ttc-s pv4 c-muted-2 t-small")},v),!1===u.required?o.a.createElement("div",null,o.a.createElement(m.a,{size:"small",collapseRight:!0,variation:"tertiary",onClick:p},o.a.createElement(s.a,{id:"store/product-customizer.remove-assembly",values:{name:v}}))):o.a.createElement("div",{className:"".concat(c.productAssemblyGroupRequiredTag," f7")},o.a.createElement(r.FormattedMessage,{id:"store/product-customizer.required"}))),u.items?Object.values(u.items).map((function(e){return o.a.createElement(g.a,{item:e,key:e.id},o.a.createElement(N,null,t))})):o.a.createElement(g.a,{item:null},t)))}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(0),o=n.n(a),r=Object(a.createContext)(null),c=function(e){var t=e.item,n=e.children;return o.a.createElement(r.Provider,{value:t},n)},i=function(){return Object(a.useContext)(r)}},42:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.device-detector@0.x/useDevice"]},43:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Modal"]},5:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@0.x/useCssHandles"]},52:function(e,t,n){"use strict";n.r(t),function(e){var t=n(9);n.p=Object(t.getPublicPath)("vtex.product-customizer@2.12.1");var a=Object(t.register)((function(){return n(63)}),e,"vtex.product-customizer@2.12.1","vtex.product-customizer@2.x","ProductAssemblyOptionItemCustomize");a.renderHotReload,a.setupHMR}.call(this,n(21)(e))},63:function(e,t,n){"use strict";n.r(t);var a=n(18),o=n(4),r=n(0),c=n.n(r),i=n(10),u=n(5),s=n.n(u),l=n(42),m=n.n(l),d=n(17),p=n.n(d),v=n(19),b=n.n(v),f=n(43),O=n.n(f),E=n(6),g=n(3),y=function(e){return e.stopPropagation()},_={onClick:y,onContextMenu:y,onDoubleClick:y,onDrag:y,onDragEnd:y,onDragEnter:y,onDragExit:y,onDragLeave:y,onDragOver:y,onDragStart:y,onDrop:y,onMouseDown:y,onMouseEnter:y,onMouseLeave:y,onMouseMove:y,onMouseOver:y,onMouseOut:y,onMouseUp:y,onKeyDown:y,onKeyPress:y,onKeyUp:y,onFocus:y,onBlur:y,onChange:y,onInput:y,onInvalid:y,onSubmit:y};var N=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",Object(a.a)({},_,{style:{display:"contents"}}),t))},x=n(25),h=n(29),j=n(12),w=["modalViewProductContainer","modalViewProductImage","modalViewProductName","modalViewProductInfos","modalViewDoneButton","modalViewTitle","productAssemblyOptionItemCustomize","productAssemblyOptionItemCustomizeLabel"],P=function(e){var t=e.children,n=e.closeAction,a=s()(w),o=Object(i.useIntl)(),r=Object(g.b)(),u=r.image,l=r.name,m=r.children,d=r.price;return c.a.createElement("div",{className:"flex flex-column"},c.a.createElement("div",{className:"".concat(a.modalViewProductContainer," flex")},c.a.createElement("img",{className:a.modalViewProductImage,src:Object(x.b)(u,140),width:140,height:140}),c.a.createElement("div",{className:"".concat(a.modalViewProductInfos," flex flex-column ml5")},c.a.createElement("span",{className:"".concat(a.modalViewProductName," t-heading-5 c-on-base")},l),c.a.createElement(p.a,{showLabels:!1,showListPrice:!1,sellingPriceContainerClass:"t-heading-3 c-on-base",sellingPrice:d/100}))),m&&Object.keys(m).map((function(e){return c.a.createElement(E.a,{key:e,assemblyOption:m[e]},c.a.createElement(h.a,null,t))})),c.a.createElement("div",{className:"".concat(a.modalViewDoneButton," mt3")},c.a.createElement(b.a,{block:!0,onClick:n},o.formatMessage({id:"store/product-customizer.modal-view.done-button"}))))},I=Object(j.a)((function(e){var t=e.children,n=e.buttonProps,u=void 0===n?{}:n,l=e.modalProps,d=void 0===l?{}:l,p=Object(i.useIntl)(),v=s()(w),f=Object(g.b)(),E=f.name,y=f.children,_=m()().isMobile,x=u.collapse,h=Object(r.useState)(!1),j=Object(o.a)(h,2),I=j[0],C=j[1];if(!y)return null;var R=function(){return C(!1)};return c.a.createElement("div",{className:v.productAssemblyOptionItemCustomize},c.a.createElement(b.a,Object(a.a)({variation:"tertiary",onClick:function(){C(!0)},collapseLeft:"left"===x,collapseRight:"right"===x},u),c.a.createElement("div",{className:"".concat(v.productAssemblyOptionItemCustomizeLabel," c-action-primary t-action")},c.a.createElement(i.FormattedMessage,{id:"store/product-customizer.customize"}))),c.a.createElement(N,null,c.a.createElement(O.a,Object(a.a)({isOpen:I,onClose:R,centered:!_,title:c.a.createElement("div",{className:v.modalViewTitle},p.formatMessage({id:"store/product-customizer.modal-view.title"},{name:E}))},d),c.a.createElement(P,{closeAction:R},t))))}));t.default=I}},[[52,"common",0]]]);