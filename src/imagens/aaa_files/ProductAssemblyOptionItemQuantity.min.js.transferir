(window.webpackJsonpvtex_product_customizer_2_12_1=window.webpackJsonpvtex_product_customizer_2_12_1||[]).push([["ProductAssemblyOptionItemQuantity"],{0:function(t,e){t.exports=React},1:function(t,e){t.exports=R},12:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),u=n.n(r),i=n(3);function a(t){return function(e){return Object(i.b)()?u.a.createElement(t,e):null}}},22:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Checkbox"]},27:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Radio"]},28:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/NumericStepper"]},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(0),u=n.n(r),i=Object(r.createContext)(null),a=function(t){var e=t.item,n=t.children;return u.a.createElement(i.Provider,{value:e},n)},c=function(){return Object(r.useContext)(i)}},5:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@0.x/useCssHandles"]},57:function(t,e,n){"use strict";n.r(e),function(t){var e=n(9);n.p=Object(e.getPublicPath)("vtex.product-customizer@2.12.1");var r=Object(e.register)((function(){return n(67)}),t,"vtex.product-customizer@2.12.1","vtex.product-customizer@2.x","ProductAssemblyOptionItemQuantity");r.renderHotReload,r.setupHMR}.call(this,n(21)(t))},6:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return b}));var r=n(2),u=n(4),i=n(0),a=n.n(i),c=n(1),o=n(8);function l(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,u=function(){};return{s:u,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=Object(i.createContext)((function(){})),f=Object(i.createContext)(void 0),v=function(t){var e,n,r,u,i,a=function(t){var e,n=[],r=l(null!=t?t:[]);try{for(r.s();!(e=r.n()).done;){var u=e.value;n=n.concat(["items",u.itemId,"children",u.groupId])}}catch(t){r.e(t)}finally{r.f()}return n}(t.treePath),c=Object.values(null!==(e=t.items)&&void 0!==e?e:{}).reduce((function(t,e){return t+e.quantity}),0),o=t.inputValues.reduce((function(t,e){return t[e.label]=e.defaultValue,t}),{});return t.path=null!==(n=t.path)&&void 0!==n?n:a,t.quantitySum=null!==(r=t.quantitySum)&&void 0!==r?r:c,t.optin=null!==(u=t.optin)&&void 0!==u?u:t.required,t.valuesOfInputValues=null!==(i=t.valuesOfInputValues)&&void 0!==i?i:o,t},m=function(t){var e=t.assemblyOption,n=t.children,r=t.initiallyOpened;"always"===(void 0===r?"required":r)&&(e.optin=!0);var c=Object(i.useReducer)(O,e,v),o=Object(u.a)(c,2),l=o[0],s=function(t){var e=t.dispatch,n=Object(i.useContext)(d);return Object(i.useCallback)((function(t){e(t),n({type:"UPDATE_CHILDREN",args:t.args})}),[e,n])}({dispatch:o[1]});return a.a.createElement(d.Provider,{value:s},a.a.createElement(f.Provider,{value:l},n))};var p=function(){return Object(i.useContext)(d)},b=function(){return Object(i.useContext)(f)},y=function(t,e){return n=t.path,r=e,n.join("/")===r.join("/")?t:Object(c.path)(e,t);var n,r};function O(t,e){var n,u,i;switch(e.type){case"OPTIN":var a=e.args.groupPath,l=y(t,a);return l.optin=!l.optin,Object.assign({},t);case"SET_INPUT_VALUE":var s=e.args,d=s.groupPath,f=s.inputValue,v=s.inputValueLabel;return y(t,d).valuesOfInputValues[v]=f,Object.assign({},t);case"SET_QUANTITY":if(!t.items)return t;var m=e.args,p=m.itemId,b=m.newQuantity,O=m.type,j=m.groupPath,g=null!==(n=Object(c.path)(j,t))&&void 0!==n?n:t;O===o.a.SINGLE&&(g.items=E(g.items));var h=Object.assign(Object.assign({},g.items),p&&g.items&&g.items[p]?Object(r.a)({},p,Object.assign(Object.assign({},g.items[p]),{quantity:b})):{}),_=Object.values(h).reduce((function(t,e){return t+e.quantity}),0);return g.quantitySum=_,g.items=h,Object.assign({},t);case"UPDATE_CHILDREN":if(!("itemId"in e.args)||!("newQuantity"in e.args)||!("type"in e.args))return t;var I=e.args,x=I.itemId,S=I.newQuantity,T=I.type,N=I.groupPath,P=null!==(u=Object(c.path)(N,t))&&void 0!==u?u:t;T===o.a.SINGLE&&(P.items=E(P.items)),(null==P?void 0:P.items)&&P.items[x]&&(P.items[x].quantity=S);var L=Object.values(null!==(i=null==P?void 0:P.items)&&void 0!==i?i:{}).reduce((function(t,e){return t+e.quantity}),0);return P.quantitySum=L,Object.assign({},t);default:return t}}function E(t){return Object.keys(t).reduce((function(e,n){return e[n]=Object.assign(Object.assign({},t[n]),{quantity:0}),e}),{})}},67:function(t,e,n){"use strict";n.r(e);var r=n(0),u=n.n(r),i=n(22),a=n.n(i),c=n(27),o=n.n(c),l=n(28),s=n.n(l),d=n(5),f=n.n(d),v=n(3),m=n(8),p=n(6),b=n(12),y=["multipleItemQuantitySelector"],O=function(){var t=Object(v.b)(),e=t.id,n=t.quantity,r=Object(p.c)().path,i=Object(p.b)(),a=1===n,c=function(){0===n&&i({type:"SET_QUANTITY",args:{itemId:e,newQuantity:1,type:m.a.SINGLE,groupPath:r}})};return u.a.createElement("div",{role:"button",tabIndex:-1,onKeyDown:function(t){var e=t.key;" "!==e&&"Enter"!==e||c()},onClick:c},u.a.createElement(o.a,{checked:a,id:"",label:"",name:"",value:"",onChange:function(){}}))},E=function(){var t=Object(v.b)(),e=t.id,n=t.quantity,r=t.minQuantity,i=Object(p.c)().path,c=Object(p.b)(),o=1===n,l=1===r;return u.a.createElement(a.a,{id:"".concat(i,"-selected-").concat(e),disabled:l,name:"selected-".concat(e),checked:o,onChange:function(){c({type:"SET_QUANTITY",args:{itemId:e,newQuantity:1===n?0:1,type:m.a.TOGGLE,groupPath:i}})}})},j=function(){var t=Object(v.b)(),e=t.quantity,n=t.maxQuantity,r=t.minQuantity,i=t.id,a=Object(p.c)(),c=a.path,o=a.maxQuantity,l=a.quantitySum,d=Object(p.b)(),b=e+1<=n&&l+1<=o,O=f()(y);return u.a.createElement("div",{className:O.multipleItemQuantitySelector,"data-testid":"multipleItemQuantitySelector-".concat(i)},u.a.createElement(s.a,{lean:!0,value:e,minValue:r,maxValue:b?void 0:e,onChange:function(t){var e=t.value;d({type:"SET_QUANTITY",args:{itemId:i,newQuantity:e,type:m.a.MULTIPLE,groupPath:c}})}}))},g=Object(b.a)((function(){var t=Object(p.c)().type;return"SINGLE"===t?u.a.createElement(O,null):"TOGGLE"===t?u.a.createElement(E,null):u.a.createElement(j,null)}));e.default=g},8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(1),u=Object(r.propEq)("maxQuantity",1),i={SINGLE:"SINGLE",TOGGLE:"TOGGLE",MULTIPLE:"MULTIPLE"},a=function(t){var e,n,r,a,c,o=null!==(n=null===(e=t.composition)||void 0===e?void 0:e.minQuantity)&&void 0!==n?n:0,l=null!==(a=null===(r=t.composition)||void 0===r?void 0:r.maxQuantity)&&void 0!==a?a:0;return 1===o&&1===l?i.SINGLE:(null===(c=t.composition)||void 0===c?void 0:c.items.every(u))?i.TOGGLE:i.MULTIPLE}}},[[57,"common"]]]);