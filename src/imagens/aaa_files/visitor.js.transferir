var xex_visitor_Class=function(){function q(a,b){a="string"===typeof a&&""!=a?a:!1;b=b&&"undefined"!==typeof b?b:"";if(a)for(var d in v){var k=v[d](String(a),String(b));if(!1!==k&&(!xe_isset(g[d])||g[d]!=k))return r(!1),g[d]=k,t(),c.lastFire=new Date,xe_core.fireEvent(c.events.EMAIL_INPUT,g),!0}return!1}function t(){return""!=g.id?(xe_createCookie("xe_visitor",JSON.stringify(g),720,!0),!0):!1}function w(a){a=a&&"object"===typeof a?a:g;return""==a.id||16>a.id.length?!1:!0}function y(){0==c.pgvwHit&&w()&&(c.pgvwHit=1,xe_pageViewHit(g.id),1==c.pgvwHit&&(c.pgvwHit=2,window.setInterval(function(){xe_pageViewHit(g.id,!0)},3E5)))}function x(a){a&&"string"===typeof a&&""!=a&&"{"==a[0]?(a=JSON.parse(a),w(a)&&(g=a,c.dataTunnel&&(c.dataTunnel=!1,t()))):r(!1);y("@fillInfo")}function r(a){if(a&&!c.dataTunnel)c.dataTunnel=!0,a=xe_readCookie("xe_visitor",x);else return a=xe_readCookie("xe_visitor"),""!=a?x(a):""==g.id&&(g.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var d=16*Math.random()|0;return("x"==b?d:d&3|8).toString(16)}),""==g.email&&(a=xe_readCookie(!1,"cartstack.com-email"),q(a)),t()),g}function u(a,b){function d(m,l,p){l.addEventListener?l.addEventListener(m,p,!1):l.attachEvent&&l.attachEvent("on"+m,p)}b=null===b||"undefined"===typeof b||"function"!==typeof b.querySelectorAll?window.document:b;var k=b.querySelectorAll("input");if(0<k.length)for(var n=0;n<k.length;n++){var e=k[n],h=xe_isset(e.name)?String(e.name):"";h=xe_isset(e.id)?h+String(e.id):h;var f=k[n].type.toLowerCase();"text"!=f&&"email"!=f&&"phone"!=f&&"tel"!=f||/(cartao|cc|card|credit|pagamento|pay|expiration|cvv|cvc|cid)/i.test(h)||(q(e.value),a&&navigator.cookieEnabled&&document.addEventListener&&d("blur",e,function(){q(this.value)}),a&&navigator.cookieEnabled&&document.addEventListener&&d("change",e,function(){xex_visitor.lfield=e;xe_isset(xex_visitor.chgint)&&!1!==xex_visitor.chgint||(xex_visitor.chgint=window.setInterval(function(){document.activeElement!=xex_visitor.lfield&&(window.clearInterval(xex_visitor.chgint),xex_visitor.chgint=!1,q(xex_visitor.lfield.value))},1500))}))}}var c=this;this.ns="VISITOR";this.version="17012023_1635";this.lastFire=0;this.popInterv={handle:-1,count:0};this.events={EMAIL_INPUT:xe_core.createEvent(c.ns+"_EMAIL_INPUT"),CELLPHONE_INPUT:xe_core.createEvent(c.ns+"_CELLPHONE_INPUT"),NAME_INPUT:xe_core.createEvent(c.ns+"_NAME_INPUT")};this.dataTunnel=!1;this.pgvwHit=0;var g={id:"",email:""},v={email:function(a,b){var d=/^([A-Za-z0-9_\-\.])+@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,7})$/;if((a=a.replace(/\s+/g,""))&&d.test(a)){d=["Y29udGF0b0B0cnVjYW9hdXRvcGVjYXM=","bnVudS5icnVAZ21haWwuY29t"];a=a.toLowerCase();for(var k=0;k<d.length;k++)if(-1<a.indexOf(window.atob(d[k])))return!1;return String(a)}return!1},cph:function(a,b){a=a.match(/\d+/g);a=Array.isArray(a)&&0<a.length?a.join([]):"";return/^\(?(?:[14689][1-9]|2[12478]|3[1234578]|5[1345]|7[134579])\)? ?(?:[2-8]|9[1-9])[0-9]{3}\-?[0-9]{4}$/.test(a)?String(a):!1},name:function(a,b){return!1}};xe_core.createService("saveVisitorInfo",function(){t(!0)});xe_core.createService("visitorInfo",function(){var a=Array.prototype.slice.call(arguments);r(!1);var b=g;xe_isset(b.cph)&&(void 0!==a&&xe_isset(a[0],"boolean")&&a[0]||(b.cph=String(+new Date)));return b});xe_core.hookEvent(XE_EVENTS.vars.ready,function(a){xe_core.requireExtension("datatunnel.js")||console.error("Data Tunnel extension wasn't loaded... User tracking can't work correctly!");r(!0);xe_core.hookEvent(XE_EVENTS.vars.domready,function(b){function d(h,f){f=f&&"undefined"!==typeof f?f:!1;h=window.btoa(h.trim().replace(/\s+/g,"-"));var m=Math.round((new Date).getTime()/1E3);if(f)return e.push({key:h,ts:m,hits:0,blocked:!1}),!0;for(var l=0;l<e.length;l++)if(e[l].key===h){if(e[l].blocked)return!0;e[l].hits++;var p=Math.floor(m-parseInt(e[l].ts));if(2>=p&&2<e[l].hits)return e[l].blocked=!0;e[l].ts=m;return 2>=p?!0:!1}return!1}function k(){(new n(function(h){h.forEach(function(f){[].slice.call(f.addedNodes).forEach(function(m){m.classList&&0<m.classList.length&&""!=m.classList.value&&!d(m.classList.value)&&(d(m.classList.value,!0),window.setTimeout(function(){u(!0,m)},3E3))})})})).observe(document,{childList:!0,subtree:!0,characterData:!1,attributes:!0})}u(!0);-1===c.popInterv.handle&&(c.popInterv.handle=window.setInterval(function(){c.popInterv.count++;5<=c.popInterv.count?window.clearInterval(c.popInterv.handle):u(5<=c.popInterv.count?!0:!1)},1E3));var n=function(){for(var h=["WebKit","Moz","O","Ms",""],f=0;f<h.length;f++)if(h[f]+"MutationObserver"in window)return window[h[f]+"MutationObserver"];return!1}(),e=[];n&&k()})},9)},xex_visitor=new xex_visitor_Class;